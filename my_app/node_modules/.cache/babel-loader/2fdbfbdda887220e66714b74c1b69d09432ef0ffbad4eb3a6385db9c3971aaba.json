{"ast":null,"code":"import { io } from \"socket.io-client\";\nimport { store } from \"../store/store\";\nimport { setElements, updateElement } from \"../Whiteboard/whiteboardSlice\";\nlet socket;\nexport const connectWithSocketServer = () => {\n  socket = io(\"http://localhost:3003\");\n  socket.on(\"console\", () => {\n    console.log(\"connected to socket.io server\");\n  });\n  socket.on(\"whiteboard-state\", elements => {\n    store.dispatch(setElements(elements));\n  });\n  socket.on(\"element-update\", elementData => {\n    store.dispatch(updateElement(elementData));\n  });\n};\nexport const emitElementUpdate = elementData => {\n  socket.emit(\"element-update\", elementData);\n};\nexport const emitClearWhiteboard = () => {\n  socket.emit(\"whiteboard-clear\");\n};","map":{"version":3,"names":["io","store","setElements","updateElement","socket","connectWithSocketServer","on","console","log","elements","dispatch","elementData","emitElementUpdate","emit","emitClearWhiteboard"],"sources":["/Users/ola/Repos/online-whiteboard/my-app/src/socketConn/socketConn.js"],"sourcesContent":["\nimport {io} from \"socket.io-client\"\nimport {store} from \"../store/store\"\nimport { setElements, updateElement } from \"../Whiteboard/whiteboardSlice\";\nlet socket;\n\nexport const connectWithSocketServer = () =>{\n    socket = io(\"http://localhost:3003\");\n\n    socket.on(\"console\", () =>{\n        console.log(\"connected to socket.io server\");\n    });\n\n    socket.on(\"whiteboard-state\", (elements) => {\n        store.dispatch(setElements(elements));\n    });\n\n    socket.on(\"element-update\", (elementData) => {\n        store.dispatch(updateElement(elementData));\n    })\n};\n\nexport const emitElementUpdate = (elementData) => {\n    socket.emit(\"element-update\", elementData);\n\n};\n\nexport const emitClearWhiteboard = () => {\n    socket.emit(\"whiteboard-clear\");\n};\n"],"mappings":"AACA,SAAQA,EAAE,QAAO,kBAAkB;AACnC,SAAQC,KAAK,QAAO,gBAAgB;AACpC,SAASC,WAAW,EAAEC,aAAa,QAAQ,+BAA+B;AAC1E,IAAIC,MAAM;AAEV,OAAO,MAAMC,uBAAuB,GAAGA,CAAA,KAAK;EACxCD,MAAM,GAAGJ,EAAE,CAAC,uBAAuB,CAAC;EAEpCI,MAAM,CAACE,EAAE,CAAC,SAAS,EAAE,MAAK;IACtBC,OAAO,CAACC,GAAG,CAAC,+BAA+B,CAAC;EAChD,CAAC,CAAC;EAEFJ,MAAM,CAACE,EAAE,CAAC,kBAAkB,EAAGG,QAAQ,IAAK;IACxCR,KAAK,CAACS,QAAQ,CAACR,WAAW,CAACO,QAAQ,CAAC,CAAC;EACzC,CAAC,CAAC;EAEFL,MAAM,CAACE,EAAE,CAAC,gBAAgB,EAAGK,WAAW,IAAK;IACzCV,KAAK,CAACS,QAAQ,CAACP,aAAa,CAACQ,WAAW,CAAC,CAAC;EAC9C,CAAC,CAAC;AACN,CAAC;AAED,OAAO,MAAMC,iBAAiB,GAAID,WAAW,IAAK;EAC9CP,MAAM,CAACS,IAAI,CAAC,gBAAgB,EAAEF,WAAW,CAAC;AAE9C,CAAC;AAED,OAAO,MAAMG,mBAAmB,GAAGA,CAAA,KAAM;EACrCV,MAAM,CAACS,IAAI,CAAC,kBAAkB,CAAC;AACnC,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}