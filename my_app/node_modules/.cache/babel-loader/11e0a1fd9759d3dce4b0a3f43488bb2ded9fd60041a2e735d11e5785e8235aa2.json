{"ast":null,"code":"import { createElement } from \"./index\";\nimport { toolTypes } from \"../../constants\";\nimport { store } from \"../../store/store\";\nimport { setElements } from \"../whiteboardSlice\";\nimport { emitElementUpdate } from \"../../socketConn/socketConn\";\nexport const updateElement = ({\n  id,\n  x1,\n  x2,\n  y1,\n  y2,\n  type,\n  index\n}, elements) => {\n  const elementsCopy = [...elements];\n  switch (type) {\n    case toolTypes.RECTANGLE:\n      const updatedElement = createElement({\n        id,\n        x1,\n        y1,\n        x2,\n        y2,\n        toolType: type\n      });\n      elementsCopy[index] = updatedElement;\n      store.dispatch(setElements(elementsCopy));\n      emitElementUpdate(updatedElement);\n      break;\n    case toolTypes.PENCIL:\n      elementsCopy[index] = {\n        ...elementsCopy[index],\n        //... -> get all of the elements\n        points: [...elementsCopy[index].points, {\n          x: x2,\n          y: y2\n        }]\n      };\n      const updatedPencilElement = elementsCopy[index];\n      store.dispatch(setElements(elementsCopy));\n      emitElementUpdate(updatedPencilElement);\n      break;\n    default:\n      throw new Error(\"Something went wrong when updating element\");\n  }\n};","map":{"version":3,"names":["createElement","toolTypes","store","setElements","emitElementUpdate","updateElement","id","x1","x2","y1","y2","type","index","elements","elementsCopy","RECTANGLE","updatedElement","toolType","dispatch","PENCIL","points","x","y","updatedPencilElement","Error"],"sources":["/Users/ola/Repos/online-whiteboard/my-app/src/Whiteboard/utils/updateElement.js"],"sourcesContent":["import { createElement } from \"./index\";\nimport { toolTypes } from \"../../constants\";\nimport { store } from \"../../store/store\";\nimport { setElements } from \"../whiteboardSlice\";\nimport { emitElementUpdate } from \"../../socketConn/socketConn\";\n\nexport const updateElement = (\n  { id, x1, x2, y1, y2, type, index },\n  elements\n) => {\n  const elementsCopy = [...elements];\n\n  switch (type) {\n    case toolTypes.RECTANGLE:\n      const updatedElement = createElement({\n        id,\n        x1,\n        y1,\n        x2,\n        y2,\n        toolType: type,\n      });\n\n      elementsCopy[index] = updatedElement;\n\n      store.dispatch(setElements(elementsCopy));\n\n      emitElementUpdate(updatedElement)\n      break;\n    case toolTypes.PENCIL:\n      elementsCopy[index] = {\n        ...elementsCopy[index], //... -> get all of the elements\n        points: [\n          ...elementsCopy[index].points,\n          {\n            x: x2,\n            y: y2,\n          }\n        ]\n      }\n\n      const updatedPencilElement = elementsCopy[index];\n\n      store.dispatch(setElements(elementsCopy));\n\n      emitElementUpdate(updatedPencilElement);\n      break;\n    default:\n      throw new Error(\"Something went wrong when updating element\");\n  }\n};\n"],"mappings":"AAAA,SAASA,aAAa,QAAQ,SAAS;AACvC,SAASC,SAAS,QAAQ,iBAAiB;AAC3C,SAASC,KAAK,QAAQ,mBAAmB;AACzC,SAASC,WAAW,QAAQ,oBAAoB;AAChD,SAASC,iBAAiB,QAAQ,6BAA6B;AAE/D,OAAO,MAAMC,aAAa,GAAGA,CAC3B;EAAEC,EAAE;EAAEC,EAAE;EAAEC,EAAE;EAAEC,EAAE;EAAEC,EAAE;EAAEC,IAAI;EAAEC;AAAM,CAAC,EACnCC,QAAQ,KACL;EACH,MAAMC,YAAY,GAAG,CAAC,GAAGD,QAAQ,CAAC;EAElC,QAAQF,IAAI;IACV,KAAKV,SAAS,CAACc,SAAS;MACtB,MAAMC,cAAc,GAAGhB,aAAa,CAAC;QACnCM,EAAE;QACFC,EAAE;QACFE,EAAE;QACFD,EAAE;QACFE,EAAE;QACFO,QAAQ,EAAEN;MACZ,CAAC,CAAC;MAEFG,YAAY,CAACF,KAAK,CAAC,GAAGI,cAAc;MAEpCd,KAAK,CAACgB,QAAQ,CAACf,WAAW,CAACW,YAAY,CAAC,CAAC;MAEzCV,iBAAiB,CAACY,cAAc,CAAC;MACjC;IACF,KAAKf,SAAS,CAACkB,MAAM;MACnBL,YAAY,CAACF,KAAK,CAAC,GAAG;QACpB,GAAGE,YAAY,CAACF,KAAK,CAAC;QAAE;QACxBQ,MAAM,EAAE,CACN,GAAGN,YAAY,CAACF,KAAK,CAAC,CAACQ,MAAM,EAC7B;UACEC,CAAC,EAAEb,EAAE;UACLc,CAAC,EAAEZ;QACL,CAAC;MAEL,CAAC;MAED,MAAMa,oBAAoB,GAAGT,YAAY,CAACF,KAAK,CAAC;MAEhDV,KAAK,CAACgB,QAAQ,CAACf,WAAW,CAACW,YAAY,CAAC,CAAC;MAEzCV,iBAAiB,CAACmB,oBAAoB,CAAC;MACvC;IACF;MACE,MAAM,IAAIC,KAAK,CAAC,4CAA4C,CAAC;EACjE;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}